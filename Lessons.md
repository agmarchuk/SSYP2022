## Информационные и учебные материалы к проекту "ЛШЮП Информбюро"

### Основные черты проекта
Ставится задача: создать информирующую систему для Школы юных программистов и ее летних сборов. Система должна быть выполнена в современных технологиях C#, .NET, Blazor, база данных PolarDB. Итоговый результат: система с Web-доступом, поддерживающая несктолько информационных процессов таких как, поток новостей, площадка (Chat) коммуникаций, ввод мультимедиа документов в архив данных, редктирование данных, интерфесы выборки документов и данных по запросам. 

### Как подготовиться к работе в мастерской
Для участия в проекте надо в какой-то мере познакомиться с известными технологиями:
- C# - есть множество учебных материалов в Интернете, есть лекции мастеров ЛШЮП
- HTML - есть множество учебных материалов в Интернете, я рекомендую https://webref.ru/course/html-tutorial. 
- ASP.NET Core Blazor. Технлогия довольно объемная, материал будет даваться по необходимости, для продвинутых школьников можно рекомендовать документацию и учебные материалы Microsoft https://dotnet.microsoft.com/en-us/learn/aspnet/blazor-tutorial/intro. Есть также разбросанные материалы по Blazor, поиск которые выполняется по необходмости. Мне например, понадобился материал https://www.youtube.com/watch?v=I7gBTLeiHG8.
- LINQ - это слой функционального программирования в C#, он в данном проекте ТОЛЬКО для подготовленных школьников. Материалов по LINQ в Интернете много.
- еще нам понадобится знание основ клиент-серверных технологий, если у Вас есть что почитать, почитайте, эти технологии сейчас доминируют в программном обеспечении, расчитанном на информационное обслуживание человека. 
- Надо изучить данное пособие https://github.com/agmarchuk/Ssyp2022/blob/main/Lessons.md, в нем мало лишнего, информация дается популярно.

### Начало работы
Для работы и для обучения нам понадобятся программные средства. Для новичков рекомендуется VisualStudio 2019 с достаточно свежими обновлениями. Надеюсь установка студии у вас получится, если будут трудности, обращайтесь к старшим.

Запускаем студию, нам надо создать новый проект (нажмите выделение "Создание проекта"). Чтобы нам не изучать лишнего, выбирайте проект по шаблону "Приложение Balzor Server", найдите этот вариант в правом списке, нажмите на вариант и "далее". Заполните Название проекта, напр. "KostyaStart", нажмите далее. Следующую страницу настройки пропустите и нажмите Создать. Для дальнейшего вам понадобится немного ориентироваться в файлах, которые вы с системой создаете и проходить простой цикл редактирование - исполнение. Ориентирование происходит в панели "Обозреватель решения", редактирование осуществляется после выделение в панели нужного файла. Исполнение (попытка исполнения) выполняется через команду нажатием на команду Отладка/Начать отладку или, что проще через нажатие зеленого треугольника. 

VisualStudio годится как для работы профессионалов, выполняющих сложные действия по разработке и отладке, так и для новичков. Поэтому, проект, который вы породили, уже готов к исполнению, нажимаем на зеленый треугольник. Если у вас "правильная" студия, то начнутся процессы компиляции и исполнения. Что вы ждете? - нажимайте! 

Через несколько секунд (до минуты) появится окно браузера в котором будет "блистать" всеми любимое приветствие миру. Основа проекта сделана, в дальнейшем будут вноситься разные элементы и разная функциональность, но программный результат будет именно такой: блазор-проект, которые запускается и появляется интерфейс с программой через ваш браузер. Интерфейс позволит просматривать предоставленную информацию, вводить свою информацию, делать запросы и получать ответы. Но это потом. А сейчас посмотрим что у нас получилось? VisualStudio запустила программу, которая называется сервером или сервисом. Эта программа - главная во всем процессе. А вот то, что изображается в браузере, это другая часть информационной системы - так называемый "клиент". 

Если сервис правильно оформлен, а мы в дальнейшем разберемся с этим вопросом, то с ним может связаться ЛЮБОЙ человек, подключенный к Интернету в (почти) любой точке мира. Связаться через браузер. Для этого он должен в своем браузере набрать командрую строку типа той, что есть в вашем запуске. Проверим это. Запустите браузер на вашем компьютере, лучше другой, не тот который автоматически запустился. Скопируйте (знаменитым copy-past) содержимеое адресной строки, нажмите enter и другое окно будет также соединено с вашей (пока не совсем вашей) программой. Понажимайте управление в интерефейсах, работают они независимо и не мешая друг друго. Это и есть "Клиент-серверные технологии", про которые вы наверняка слышали. А еще вы слышали такое словосочетание, как Web-приложение. Так это оно и есть... Не пугайтесь, пока ваше приложение во внешнем мире не видно. 

Теперь давайте посмотрим через "Обозреватель решений" на те файлы, которые кем-то созданы для того, чтобы "легким движением руки" вы получили бы действующее Веб-приложение. Несколько папок, много файлов... Не пугайтесь, ничего особо сложного в них нет, что нужно освоим, остальное пусть будет так как есть. Обратите внимание на файлы Pages/*.razor. Это и есть страницы, которые может формировать программа и формирует по запросу. Обратите внимание, на то, что переключаясь со страницы на страницу через навигационное меню, мы попадаем в разнные разделы (Pages), в которых совсем разное содержимое. Это видно, если вы переключаясь через меню обращаете внимание на адресную строку, напр. https://localhost:44305/, https://localhost:44305/counter, ... Вы можете без меню набирать эти адреса и попадать в нужные страницы. А страницы называются Pages/Index.razor для страницы привествия, Pages/Counter.razor и т.д. А если вы заглянете в файл Shared/NavMenu.razor, вы увидите как строится меню, хотя сейчас это не существенно. После выключения сервера, клиент получает что попало, но можно изменить тексты программ страниц и снова запускать сервер. Сервер выключается при нажатии на красный квадратик или если закрыть открытое сервером окно браузера. Если вы не "напортачите" при мелких изменениях, страницы будут работать после новых запусков.         

### Урок 1. Разминка
Первый урок у нас будет "разминкой", т.е. не основным действием, а лиш подготовкой к нему. Для экспериментов рекомендуем использовать файлы основных страниц. Они нам в разработке не понадобятся и на них экспериментировать вполне безопасно. Пока не будем вчитываться в то, что написано в этих файлах, а будем и смело очищать от предыдущего текста. Проще всего проводить эксперименты с индексной странцией Index.razor. Это потому, что именно она автоматически запускается первой. Рассмотрим что находится на странице Index.razor? На странице есть три части. Первая заголовок: @page "имя страницы". Вторая часть - HTML-текст, порождающий изборажение в браузере. Этот html осовобожден от технических моментов общей организации, в нем может быть только то, что нужно именно для данной композиции. Третья составляющая razor-файла - это программный код, погруженный в скобки @code{ ... }. 

Мы будем учиться строить изображение и только изображение. Программный  код в этой разминке будет пустой. Представим, что индексная страница и есть цель нашего большого проекта. Вы можете проявить творчество в том, чтобы создать макет страницы, которая, как вам кажется, будет хорошо соответствовать замыслу проекта. Наша задача - разбить поле страницы на части, которые будут в совокупности порождать нужную композицию. Поскольку это макет, желательно, чтобы некоторое текстовое наполнение присутствует. Это наполнение можно брать откуда угодно, сейчас это не важно. Важен лишь общий вид композиции. Попробуем собрать то, что нам нужно из элементов <div></div>. Внутри данных скобок могут быть тексты и вложенные элементы div. Важной особенностью элемента является то, что он всегда порождает прямоугольник. Оставим в файле Index.razor только первую строку. А вместо остального, вставим что-нибудь вроде: 
```
<div style="border: 1px solid black;">
    Класс компонента обычно записывается в виде страницы разметки Razor с расширением файла .razor. 
    Компоненты в Blazor обычно называются Blazor (или Razor). 
    Синтаксис Razor сочетает разметку HTML с кодом C#, позволяя повысить производительность разработчиков. Razor позволяет 
    переключаться между разметкой HTML и кодом C# в одном файле благодаря программной поддержке Razor в Visual Studio. 
    Синтаксис Razor применяется также для Razor Pages и MVC. 
    В отличие от Razor Pages и MVC, которые построены по модели "запрос-ответ", 
    компоненты используются специально для логики пользовательского интерфейса на стороне клиента и для компоновки.
</div>
```
И после этого, запустим сервер. За счет специального оформления границ, мы можем наблюдать как выглядит блочная структура. Стандартные блоки div занимают всю доступную полосу. Но есть другие блоки - блоки-кирпичи, они укладываются в объемлющий блок слева направо, сверху вниз. Таким блокам можно присваивать один или два размера. Например, для предыдущего примера в стилевое оформление блока добавим "display: inline-block; float: right; width: 200px;" и мы увидим узкий блок, прижатый вправо. 

А можно сработать и без текстов, только тогда надо более определенно назначать размеры блоков, заодно добавим еще и нижнюю панель, напр.
```
<div style="border: 1px solid black;">
    <div style="display: inline-block; float: left; height:300px; width:60%; border: 1px solid black;">
        Это левая панель
    </div>
    <div style="display: inline-block; float: right; height: 300px; width: 40%; border: 1px solid black;">
        Это правая панель
    </div>
</div>
<div style="border: 1px solid black;">
    Это нижняя панель
</div>
```
Таким образом, мы разрарабатываем систему панелей, в которые надо вкладывать содержимое. Это будет делаться в следующем уроке.

### Урок 2. Вставление данных в композицию
Фиксировать данные, которые попадают в композицию целесообразно только для простых статических сайтов. В остальных случаях, и в нашем тоже, данные должны программно вычисляться и внедряться в лэйаут композиции. Средствами Блазора это делается довольно просто. Для этого используется секция кода. В этой секции определяются переменные, которые каким-то образом вычисляются, а потом эти переменные помещаются в композицию. Например, для нашей учебной разработки, сделаем код:
```
@code{
    string left_panel = @"Класс компонента обычно записывается в виде страницы разметки Razor с расширением файла .razor. 
    Компоненты в Blazor обычно называются Blazor (или Razor).";

}
``` 
а в первый внутренний div внедрим значение этой переменной:
```
<div ...>
    @(left_panel)
</div>
```
Попробуйте. Всякий раз, когда будет вычисляться новое значение левой панели, оно (автоматически) будет переноситься в html код.

Какие виды информации можно располагать в композиции. Вы их знаете, это: тексты, имиджи (фотки), гиперссылки, таблицы, списки. Попробуем вставить фотографию во вторую панель композиции. Большинство умеет это делать, надо просто вставить элементimg:
соответственно, надо фотографию куда-то поместить и по какому-то uri к ней обратиться. Основной способ для Блазора такой же как и для других ASP.NET технологий: фотография помещяется в папку wwwroot и uri к ней формируется как путь к файлу относительно wwwroot. Пользуясь средствами операционной системы, найдем папку KostyaStart/wwwroot, в ней заведем подпапку images, в которую поместим выбранную тестовую фотку. А потом сделаем на нее ссылку img, только не забудем указать размер, а то фотография може не поместиться в отведенное место и собъет нашу композицию. 
```
  <img src="/images/test-photo.jpg" width="200"/>
```
Следующий вариант формирования того, что вставить в нашу композицию, это вложенная композиция. То есть мы можем в некоторый блок (div) вставить ряд полей. Мы уже умеем (немного) управлять размещением, умеем располагать текст и умеем располагать имиджи. Для удобства, информационные поля можно описать классом, а потом завести переменную этого класса и определеить ее значение, напр.:
```
    class Person
    {
        public string name;
        public string from_city;
        public string uri;
    }
    Person ivanov = new Person() { name = "Иванов Иван Иванович", from_city = "Novosibirsk", uri = "/images/test-photo.jpg" };
```   
Поскольку кодовая часть тесно связана с html, теперь в тексте html мы можем брать переменную, брать ее поля и, как мы уже умеем, изображать эти поля в виде html-композиции. Соорудим эту композицию в левой панели, за тем текстом, который там уже есть. 

### Урок 3. 